{"componentChunkName":"component---src-templates-docs-template-js","path":"/installation","result":{"data":{"markdownRemark":{"html":"<h1 id=\"docker\" style=\"position:relative;\"><a href=\"#docker\" aria-label=\"docker permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Docker</h1>\n<p>install docker for your platform: windows or linux</p>\n<ul>\n<li>for windows, go to docker setting, and enable sharing for the drive that contains the project files</li>\n<li>cd to the project directory that contains application files\n<code class=\"language-text\">docker run -ti --name docker_develop -p 8000:8000 -v ${pwd}:/home/fenics/shared restful_coc:v4</code></li>\n</ul>\n<p>make sure postgresql is running <code class=\"language-text\">sudo service postgresql start</code>\nstart webpack  <code class=\"language-text\">npm run dev</code>\nstart a new bash, and run <code class=\"language-text\">python3 manage.py runserver 0.0.0.0:8000</code></p>\n<p>access to the development website py:  <code class=\"language-text\">localhost:8000</code></p>\n<h1 id=\"installing-postgresql\" style=\"position:relative;\"><a href=\"#installing-postgresql\" aria-label=\"installing postgresql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>installing PostgreSQL</h1>\n<p>the database has converted to postgreSQL to use its ability to store JSON\nrun <code class=\"language-text\">sudo apt update</code>\nand then\ninstall postgreSQL by <code class=\"language-text\">sudo apt install postgresql postgresql-contrib</code></p>\n<p>start server <code class=\"language-text\">sudo service postgresql start</code></p>\n<p>install <code class=\"language-text\">pip3 install psycopg2-binary</code></p>\n<p>Switch over to the postgres account on your server by typing:\n<code class=\"language-text\">sudo -i -u postgres</code></p>\n<p>create a user:\n<code class=\"language-text\">createuser --interactive --pwprompt</code>\nuser: <code class=\"language-text\">root</code>\npass: <code class=\"language-text\">nero123</code>\nmake sure you use system username for the postgresql user (<code class=\"language-text\">root</code> for docker)</p>\n<p>create a New Database:\n<code class=\"language-text\">sudo -u postgres createdb restfulDB</code></p>\n<p>install <code class=\"language-text\">pip3 install psycopg2-binary</code> </p>\n<p>setting for django:\nDATABASES = {\n'default': {\n'ENGINE': 'django.db.backends.postgresql<em>psycopg2',\n'NAME': 'restfulDB',\n'USER' : 'your</em>user<em>name',\n'PASSWORD' : 'your</em>password',\n'HOST': '',\n'PORT': '',\n}\n}</p>\n<h4 id=\"postgresql-database-view\" style=\"position:relative;\"><a href=\"#postgresql-database-view\" aria-label=\"postgresql database view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>postgreSQL database view:</h4>\n<p>log in to the data base <code class=\"language-text\">psql -d restfulDB -U  root -W</code>\npassword is <code class=\"language-text\">nero123</code>\nlist tables: <code class=\"language-text\">\\dt</code></p>\n<h3 id=\"resetting-database\" style=\"position:relative;\"><a href=\"#resetting-database\" aria-label=\"resetting database permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resetting Database</h3>\n<p>remove all migrations, and pycache, and then run:</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">python3 manage<span class=\"token punctuation\">.</span>py migrate admin zero\npython3 manage<span class=\"token punctuation\">.</span>py migrate auth zero\npython3 manage<span class=\"token punctuation\">.</span>py migrate contenttypes zero\npython3 manage<span class=\"token punctuation\">.</span>py migrate sessions zero</code></pre></div>\n<p>create and run migrations:</p>\n<p><code class=\"language-text\">python3 manage.py makemigrations users MeshGenerator frontend AnalysesHub</code></p>\n<p><code class=\"language-text\">python3 manage.py migrate</code></p>\n<h1 id=\"installing-onshape-api-python-interface\" style=\"position:relative;\"><a href=\"#installing-onshape-api-python-interface\" aria-label=\"installing onshape api python interface permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>installing OnShape API python interface</h1>\n<p>before installation, there is a bug to be fixed:\n<code class=\"language-text\">\\OnShapeAPI_python\\onshape_client\\oas\\api_client.py</code> line 115, make sure that <code class=\"language-text\">response_type=True</code></p>\n<p>cd to OnShapeAPI_python directory\n<code class=\"language-text\">python3 setup.py install</code></p>\n<p>API has a bug in api<em>client.py file. (in VS</em>Code click on the Client to get there)\nthe path to file is <code class=\"language-text\">venv/lib/python3.6/site-packages/onshape_client-33-py3.6.egg/onshape_client/oas/api_client.py</code>\nin line 295 replace <code class=\"language-text\">self.__deserialize_model(data, klass)</code> with <code class=\"language-text\">data</code> for temporary treatment</p>\n<p>another bug:\n<code class=\"language-text\">/mnt/c/Users/Nasser/Desktop/RESTful_Composites_On_Clouds/venv/lib/python3.6/site-packages/onshape_client-33-py3.6.egg/onshape_client/oas/api/part_studios_api.py</code>\nline 1034, change to\n<code class=\"language-text\">response_type=True,  # noqa: E501</code></p>\n<h1 id=\"threejs\" style=\"position:relative;\"><a href=\"#threejs\" aria-label=\"threejs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>THREE.js</h1>\n<p>please downloand three.js, and copy folders <code class=\"language-text\">build</code> , <code class=\"language-text\">examples/models</code> and <code class=\"language-text\">examples/jsm/</code> into <code class=\"language-text\">static/threeJS/</code> into static folder based on the following tree:  </p>\n<p>static<br>\n|--threeJS<br>\n|-- modules<br>\n|   |-- jsm<br>\n|-- models<br>\n|--build </p>\n<h1 id=\"react-and-nodejs\" style=\"position:relative;\"><a href=\"#react-and-nodejs\" aria-label=\"react and nodejs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>REACT and node.js</h1>\n<p>React is used for front end development. It is installed as a stand alone Django application.\nto set-up react, node.js and npm should be set up.</p>\n<h2 id=\"nodejs\" style=\"position:relative;\"><a href=\"#nodejs\" aria-label=\"nodejs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node.js</h2>\n<p><code class=\"language-text\">curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -</code>\n<code class=\"language-text\">sudo apt-get install -y nodejs</code></p>\n<p>update npm to the latest version:\n<code class=\"language-text\">sudo npm install npm@latest -g</code></p>\n<p>webpack is needed to run react [this has to be installed in docker container as the files are not included in current image file]:\n<code class=\"language-text\">npm i webpack webpack-cli --save-dev</code></p>\n<p>and babel for transpiling:</p>\n<p><code class=\"language-text\">npm i @babel/core babel-loader @babel/preset-env @babel/preset-react babel-plugin-transform-class-properties --save-dev</code></p>\n<p>read <a href=\"https://www.valentinog.com/blog/drf/\">this</a> for details</p>\n<h2 id=\"bootstrap\" style=\"position:relative;\"><a href=\"#bootstrap\" aria-label=\"bootstrap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>bootstrap</h2>\n<p><a href=\"https://medium.com/@dinyangetoh/getting-started-with-react-webpack-and-bootstrap-27e95ff634ef\">link</a>\n<code class=\"language-text\">npm install bootstrap</code>\n<code class=\"language-text\">npm install jquery popper.js</code></p>\n<h1 id=\"threejs-1\" style=\"position:relative;\"><a href=\"#threejs-1\" aria-label=\"threejs 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ThreeJS:</h1>\n<p><code class=\"language-text\">npm i --save three</code>\n<a href=\"https://threejs.org/docs/#manual/en/introduction/Import-via-modules\">importing</a></p>\n<p>then include <code class=\"language-text\">import &#39;bootstrap/dist/css/bootstrap.min.css&#39;;</code> in <code class=\"language-text\">src/index.js</code></p>\n<h1 id=\"to-run-the-development-server\" style=\"position:relative;\"><a href=\"#to-run-the-development-server\" aria-label=\"to run the development server permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>to run the development server:</h1>\n<p>make sure postgresql is running <code class=\"language-text\">sudo service postgresql start</code>\nstart webpack  <code class=\"language-text\">npm run dev</code>\nstart a new bash, and run <code class=\"language-text\">python3 manage.py runserver 0.0.0.0:8000</code></p>","tableOfContents":"<ul>\n<li><a href=\"#docker\">Docker</a></li>\n<li>\n<p><a href=\"#installing-postgresql\">installing PostgreSQL</a></p>\n<ul>\n<li>\n<ul>\n<li>\n<ul>\n<li><a href=\"#postgresql-database-view\">postgreSQL database view:</a></li>\n</ul>\n</li>\n<li><a href=\"#resetting-database\">Resetting Database</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#installing-onshape-api-python-interface\">installing OnShape API python interface</a></li>\n<li><a href=\"#threejs\">THREE.js</a></li>\n<li>\n<p><a href=\"#react-and-nodejs\">REACT and node.js</a></p>\n<ul>\n<li><a href=\"#nodejs\">Node.js</a></li>\n<li><a href=\"#bootstrap\">bootstrap</a></li>\n</ul>\n</li>\n<li><a href=\"#threejs-1\">ThreeJS:</a></li>\n<li><a href=\"#to-run-the-development-server\">to run the development server:</a></li>\n</ul>","headings":[{"depth":1,"value":"Docker"},{"depth":1,"value":"installing PostgreSQL"},{"depth":4,"value":"postgreSQL database view:"},{"depth":3,"value":"Resetting Database"},{"depth":1,"value":"installing OnShape API python interface"},{"depth":1,"value":"THREE.js"},{"depth":1,"value":"REACT and node.js"},{"depth":2,"value":"Node.js"},{"depth":2,"value":"bootstrap"},{"depth":1,"value":"ThreeJS:"},{"depth":1,"value":"to run the development server:"}],"frontmatter":{"path":"/installation","title":"Installation"}}},"pageContext":{}}}